{"builtWith":"0.15.10","comments":[{"LineComment":" | The `Proxy` type and values are for situations where type information is"},{"LineComment":" | required for an input to determine the type of an output, but where it is"},{"LineComment":" | not possible or convenient to provide a _value_ for the input."},{"LineComment":" |"},{"LineComment":" | A hypothetical example: if you have a class that is used to handle the"},{"LineComment":" | result of an AJAX request, you may want to use this information to set the"},{"LineComment":" | expected content type of the request, so you might have a class something"},{"LineComment":" | like this:"},{"LineComment":" |"},{"LineComment":" | ``` purescript"},{"LineComment":" | class AjaxResponse a where"},{"LineComment":" |   responseType :: a -> ResponseType"},{"LineComment":" |   fromResponse :: Foreign -> a"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | The problem here is `responseType` requires a value of type `a`, but we"},{"LineComment":" | won't have a value of that type until the request has been completed. The"},{"LineComment":" | solution is to use a `Proxy` type instead:"},{"LineComment":" |"},{"LineComment":" | ``` purescript"},{"LineComment":" | class AjaxResponse a where"},{"LineComment":" |   responseType :: Proxy a -> ResponseType"},{"LineComment":" |   fromResponse :: Foreign -> a"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | We can now call `responseType (Proxy :: Proxy SomeContentType)` to produce"},{"LineComment":" | a `ResponseType` for `SomeContentType` without having to construct some"},{"LineComment":" | empty version of `SomeContentType` first. In situations like this where"},{"LineComment":" | the `Proxy` type can be statically determined, it is recommended to pull"},{"LineComment":" | out the definition to the top level and make a declaration like:"},{"LineComment":" |"},{"LineComment":" | ``` purescript"},{"LineComment":" | _SomeContentType :: Proxy SomeContentType"},{"LineComment":" | _SomeContentType = Proxy"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | That way the proxy value can be used as `responseType _SomeContentType`"},{"LineComment":" | for improved readability. However, this is not always possible, sometimes"},{"LineComment":" | the type required will be determined by a type variable. As PureScript has"},{"LineComment":" | scoped type variables, we can do things like this:"},{"LineComment":" |"},{"LineComment":" | ``` purescript"},{"LineComment":" | makeRequest :: URL -> ResponseType -> Aff _ Foreign"},{"LineComment":" | makeRequest = ..."},{"LineComment":" |"},{"LineComment":" | fetchData :: forall a. (AjaxResponse a) => URL -> Aff _ a"},{"LineComment":" | fetchData url = fromResponse <$> makeRequest url (responseType (Proxy :: Proxy a))"},{"LineComment":" | ```"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[53,21],"start":[53,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[53,21],"start":[53,1]}},"constructorName":"Proxy","fieldNames":[],"type":"Constructor","typeName":"Proxy"},"identifier":"Proxy"}],"exports":["Proxy"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[53,21],"start":[49,1]}},"moduleName":["Prim"]}],"moduleName":["Type","Proxy"],"modulePath":".spago/packages/prelude-6.0.1/src/Type/Proxy.purs","reExports":{},"sourceSpan":{"end":[53,21],"start":[49,1]}}