{"builtWith":"0.15.10","comments":[{"LineComment":" | Codecs that provide forward migrations."},{"LineComment":" |"},{"LineComment":" | In a forward migration, the decoder migrates to the new format while"},{"LineComment":" | decoding from JSON and the encoder uses the new format while encoding to"},{"LineComment":" | JSON."},{"LineComment":" |"},{"LineComment":" | If you need more control over a forward migration, the `Functor` instance"},{"LineComment":" | allows operating on the underlying `Json` value directly."},{"LineComment":" |"},{"LineComment":" | If you need both forward and backward migrations, the `Profunctor` instance"},{"LineComment":" | allows operating on the underlying `Json` value directly in both"},{"LineComment":" | directions."},{"LineComment":" |"},{"LineComment":" | Sometimes even greater control over migration is required, and new error"},{"LineComment":" | states need to be introduced. In this situation a `JsonCodec` will need to"},{"LineComment":" | be constructed manually - this should be a last resort though, as building"},{"LineComment":" | a codec manually means there is no guarantee that it will roundtrip"},{"LineComment":" | successfully."},{"LineComment":" |"},{"LineComment":" | Migrations are applied by composing a migration codec to run in advance of"},{"LineComment":" | the codec proper. Codec composition is performed with the `(<~<)` and"},{"LineComment":" | `(>~>)` operators from `Data.Codec`."},{"LineComment":" |"},{"LineComment":" | An example of a codec with a migration applied:"},{"LineComment":" |"},{"LineComment":" | ``` purescript"},{"LineComment":" | import Data.Codec ((>~>))"},{"LineComment":" | import Data.Codec.Argonaut as CA"},{"LineComment":" | import Data.Codec.Argonaut.Migration as CAM"},{"LineComment":" | import Data.Codec.Argonaut.Record as CAR"},{"LineComment":" |"},{"LineComment":" | type MyModel = { key ∷ String, value ∷ Int }"},{"LineComment":" |"},{"LineComment":" | codec ∷ CA.JsonCodec MyModel"},{"LineComment":" | codec ="},{"LineComment":" |   CAM.renameField \"tag\" \"key\" >~>"},{"LineComment":" |     CA.object \"MyModel\" (CAR.record"},{"LineComment":" |      { key: CA.string"},{"LineComment":" |      , value: CA.int"},{"LineComment":" |      })"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | Here we're using the `renameField` migration to rename a property of our"},{"LineComment":" | JSON object from `\"tag\"` to `\"key\"`, and then in the codec proper we only"},{"LineComment":" | need to deal with `\"key\"`."},{"LineComment":" |"},{"LineComment":" | Multiple migrations can be chained together using the codec composition"},{"LineComment":" | operators."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[91,47],"start":[91,44]}},"type":"Var","value":{"identifier":"compose","moduleName":["Control","Semigroupoid"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[91,54],"start":[91,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupoidFn","moduleName":["Control","Semigroupoid"]}},"type":"App"},"identifier":"compose"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,49],"start":[88,45]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[88,49],"start":[88,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEither","moduleName":["Data","Either"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,67],"start":[88,59]}},"type":"Var","value":{"identifier":"identity","moduleName":["Control","Category"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[88,67],"start":[88,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"categoryFn","moduleName":["Control","Category"]}},"type":"App"},"identifier":"identity"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,26],"start":[126,9]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,26],"start":[126,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindST","moduleName":["Control","Monad","ST","Internal"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,45],"start":[75,42]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[75,45],"start":[75,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[82,57],"start":[82,54]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[82,62],"start":[82,54]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorFn","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map1"},{"annotation":{"meta":null,"sourceSpan":{"end":[87,49],"start":[87,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[87,49],"start":[87,1]}},"argument":"oldName","body":{"annotation":{"meta":null,"sourceSpan":{"end":[87,49],"start":[87,1]}},"argument":"newName","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[88,67],"start":[88,31]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[93,47],"start":[93,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[93,47],"start":[93,3]}},"argument":"obj","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,21],"start":[94,16]}},"type":"Var","value":{"identifier":"maybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,25],"start":[94,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,25],"start":[94,22]}},"type":"Var","value":{"identifier":"obj","sourcePos":[94,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,55],"start":[94,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,34],"start":[94,27]}},"type":"Var","value":{"identifier":"uncurry","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,54],"start":[94,27]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,45],"start":[94,36]}},"type":"Var","value":{"identifier":"insert","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,53],"start":[94,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,53],"start":[94,46]}},"type":"Var","value":{"identifier":"newName","sourcePos":[88,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,76],"start":[94,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,63],"start":[94,57]}},"type":"Var","value":{"identifier":"pop","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,71],"start":[94,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,71],"start":[94,64]}},"type":"Var","value":{"identifier":"oldName","sourcePos":[88,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,75],"start":[94,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,75],"start":[94,72]}},"type":"Var","value":{"identifier":"obj","sourcePos":[94,3]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"rename"},{"annotation":{"meta":null,"sourceSpan":{"end":[90,24],"start":[90,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[90,24],"start":[90,3]}},"argument":"j","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[91,27],"start":[91,11]}},"type":"Var","value":{"identifier":"caseJsonObject","moduleName":["Data","Argonaut","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,29],"start":[91,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,29],"start":[91,28]}},"type":"Var","value":{"identifier":"j","sourcePos":[91,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,54],"start":[91,31]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[91,43],"start":[91,31]}},"type":"Var","value":{"identifier":"fromObject","moduleName":["Data","Argonaut","Core"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,54],"start":[91,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,54],"start":[91,48]}},"type":"Var","value":{"identifier":"rename","sourcePos":[93,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,57],"start":[91,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,57],"start":[91,56]}},"type":"Var","value":{"identifier":"j","sourcePos":[91,3]}},"type":"App"},"type":"Abs"},"identifier":"dec"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,43],"start":[88,31]}},"type":"Var","value":{"identifier":"codec'","moduleName":["Data","Codec"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,58],"start":[88,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,57],"start":[88,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Data","Codec","Argonaut","Migration"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,57],"start":[88,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,57],"start":[88,54]}},"type":"Var","value":{"identifier":"dec","sourcePos":[90,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,67],"start":[88,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["Data","Codec","Argonaut","Migration"]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"renameField"},{"annotation":{"meta":null,"sourceSpan":{"end":[116,33],"start":[116,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[117,53],"start":[117,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,38],"start":[133,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,38],"start":[133,3]}},"argument":"obj","body":{"annotation":{"meta":null,"sourceSpan":{"end":[136,25],"start":[134,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,33],"start":[116,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,28],"start":[134,22]}},"type":"Var","value":{"identifier":"pop","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,36],"start":[134,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,36],"start":[134,29]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"value"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,40],"start":[134,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,40],"start":[134,37]}},"type":"Var","value":{"identifier":"obj","sourcePos":[134,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,25],"start":[134,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[135,33],"start":[135,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[135,32],"start":[135,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[135,27],"start":[135,17]}},"binderType":"VarBinder","identifier":"valueValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[135,32],"start":[135,28]}},"binderType":"VarBinder","identifier":"obj'"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,64],"start":[135,54]}},"type":"Var","value":{"identifier":"valueValue","sourcePos":[135,17]}},"guard":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,46],"start":[135,36]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,51],"start":[135,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,51],"start":[135,47]}},"type":"Var","value":{"identifier":"obj'","sourcePos":[135,28]}},"type":"App"}}],"isGuarded":true},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[136,6],"start":[136,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[136,21],"start":[136,9]}},"type":"Var","value":{"identifier":"fromObject","moduleName":["Data","Argonaut","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[136,25],"start":[136,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,25],"start":[136,22]}},"type":"Var","value":{"identifier":"obj","sourcePos":[134,3]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,33],"start":[116,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"mkValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[122,48],"start":[122,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,48],"start":[122,3]}},"argument":"obj","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,48],"start":[124,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,33],"start":[116,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,16],"start":[124,10]}},"type":"Var","value":{"identifier":"pop","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,22],"start":[124,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,22],"start":[124,17]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"tag"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,26],"start":[124,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,26],"start":[124,23]}},"type":"Var","value":{"identifier":"obj","sourcePos":[123,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,48],"start":[124,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[125,14],"start":[125,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,25],"start":[125,17]}},"type":"Var","value":{"identifier":"runST","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,47],"start":[125,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,9]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,26],"start":[126,18]}},"type":"Var","value":{"identifier":"new","moduleName":["Foreign","Object","ST"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,9]}},"argument":"result","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,18],"start":[127,9]}},"type":"Var","value":{"identifier":"poke","moduleName":["Foreign","Object","ST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,26],"start":[127,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,26],"start":[127,19]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"value"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,40],"start":[127,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[127,35],"start":[127,28]}},"type":"Var","value":{"identifier":"mkValue","sourcePos":[133,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,39],"start":[127,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,39],"start":[127,36]}},"type":"Var","value":{"identifier":"obj","sourcePos":[123,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,47],"start":[127,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,47],"start":[127,41]}},"type":"Var","value":{"identifier":"result","sourcePos":[126,9]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[128,33],"start":[128,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[128,32],"start":[128,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,27],"start":[128,19]}},"binderType":"VarBinder","identifier":"tagValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[128,32],"start":[128,28]}},"binderType":"VarBinder","identifier":"obj'"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,44],"start":[128,36]}},"type":"Var","value":{"identifier":"runST","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,48],"start":[128,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,26],"start":[129,9]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,26],"start":[129,18]}},"type":"Var","value":{"identifier":"new","moduleName":["Foreign","Object","ST"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,26],"start":[129,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,26],"start":[129,9]}},"argument":"result","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[130,9]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,22],"start":[130,13]}},"type":"Var","value":{"identifier":"poke","moduleName":["Foreign","Object","ST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,28],"start":[130,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,28],"start":[130,23]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"tag"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,37],"start":[130,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,37],"start":[130,29]}},"type":"Var","value":{"identifier":"tagValue","sourcePos":[128,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[130,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[130,38]}},"type":"Var","value":{"identifier":"result","sourcePos":[129,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[130,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[130,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,18],"start":[131,9]}},"type":"Var","value":{"identifier":"poke","moduleName":["Foreign","Object","ST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,26],"start":[131,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,26],"start":[131,19]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"value"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,41],"start":[131,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[131,35],"start":[131,28]}},"type":"Var","value":{"identifier":"mkValue","sourcePos":[133,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,40],"start":[131,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,40],"start":[131,36]}},"type":"Var","value":{"identifier":"obj'","sourcePos":[128,28]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,48],"start":[131,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,48],"start":[131,42]}},"type":"Var","value":{"identifier":"result","sourcePos":[129,9]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,33],"start":[116,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"rewrite"},{"annotation":{"meta":null,"sourceSpan":{"end":[119,24],"start":[119,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,24],"start":[119,3]}},"argument":"j","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,27],"start":[120,11]}},"type":"Var","value":{"identifier":"caseJsonObject","moduleName":["Data","Argonaut","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,29],"start":[120,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,29],"start":[120,28]}},"type":"Var","value":{"identifier":"j","sourcePos":[120,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,56],"start":[120,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,55],"start":[120,31]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,43],"start":[120,31]}},"type":"Var","value":{"identifier":"fromObject","moduleName":["Data","Argonaut","Core"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,55],"start":[120,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,55],"start":[120,48]}},"type":"Var","value":{"identifier":"rewrite","sourcePos":[122,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,58],"start":[120,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,58],"start":[120,57]}},"type":"Var","value":{"identifier":"j","sourcePos":[120,3]}},"type":"App"},"type":"Abs"},"identifier":"dec"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[117,29],"start":[117,17]}},"type":"Var","value":{"identifier":"codec'","moduleName":["Data","Codec"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,44],"start":[117,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,43],"start":[117,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Data","Codec","Argonaut","Migration"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,43],"start":[117,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,43],"start":[117,40]}},"type":"Var","value":{"identifier":"dec","sourcePos":[119,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,53],"start":[117,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["Data","Codec","Argonaut","Migration"]}},"type":"App"},"type":"Let"},"identifier":"nestForTagged"},{"annotation":{"meta":null,"sourceSpan":{"end":[138,71],"start":[138,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,71],"start":[138,1]}},"argument":"field","body":{"annotation":{"meta":null,"sourceSpan":{"end":[138,71],"start":[138,1]}},"argument":"f","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[139,58],"start":[139,22]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[144,51],"start":[144,3]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,24],"start":[145,16]}},"type":"Var","value":{"identifier":"alter","moduleName":["Foreign","Object"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,26],"start":[145,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,26],"start":[145,25]}},"type":"Var","value":{"identifier":"f","sourcePos":[139,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[145,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[145,27]}},"type":"Var","value":{"identifier":"field","sourcePos":[139,1]}},"type":"App"},"identifier":"setDefault"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,24],"start":[141,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,24],"start":[141,3]}},"argument":"j","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[142,27],"start":[142,11]}},"type":"Var","value":{"identifier":"caseJsonObject","moduleName":["Data","Argonaut","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[142,29],"start":[142,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,29],"start":[142,28]}},"type":"Var","value":{"identifier":"j","sourcePos":[142,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,59],"start":[142,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[142,58],"start":[142,31]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[142,43],"start":[142,31]}},"type":"Var","value":{"identifier":"fromObject","moduleName":["Data","Argonaut","Core"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,58],"start":[142,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,58],"start":[142,48]}},"type":"Var","value":{"identifier":"setDefault","sourcePos":[144,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,60]}},"type":"Var","value":{"identifier":"j","sourcePos":[142,3]}},"type":"App"},"type":"Abs"},"identifier":"dec"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[139,34],"start":[139,22]}},"type":"Var","value":{"identifier":"codec'","moduleName":["Data","Codec"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,49],"start":[139,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,48],"start":[139,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Data","Codec","Argonaut","Migration"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,48],"start":[139,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,48],"start":[139,45]}},"type":"Var","value":{"identifier":"dec","sourcePos":[141,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,58],"start":[139,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["Data","Codec","Argonaut","Migration"]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"alterField"},{"annotation":{"meta":null,"sourceSpan":{"end":[74,60],"start":[74,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[74,60],"start":[74,1]}},"argument":"field","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,45],"start":[75,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[75,31],"start":[75,21]}},"type":"Var","value":{"identifier":"alterField","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,37],"start":[75,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,37],"start":[75,32]}},"type":"Var","value":{"identifier":"field","sourcePos":[75,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,45],"start":[75,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Codec","Argonaut","Migration"]}},"type":"App"},"type":"Abs"},"identifier":"updateField"},{"annotation":{"meta":null,"sourceSpan":{"end":[81,78],"start":[81,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[81,78],"start":[81,1]}},"argument":"field","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,62],"start":[82,33]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[82,43],"start":[82,33]}},"type":"Var","value":{"identifier":"alterField","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,49],"start":[82,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,49],"start":[82,44]}},"type":"Var","value":{"identifier":"field","sourcePos":[82,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,62],"start":[82,33]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map1","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,62],"start":[82,54]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[82,62],"start":[82,58]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"addDefaultOrUpdateField"},{"annotation":{"meta":null,"sourceSpan":{"end":[70,53],"start":[70,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[70,53],"start":[70,1]}},"argument":"field","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,68],"start":[71,25]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[71,48],"start":[71,25]}},"type":"Var","value":{"identifier":"addDefaultOrUpdateField","moduleName":["Data","Codec","Argonaut","Migration"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,54],"start":[71,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,54],"start":[71,49]}},"type":"Var","value":{"identifier":"field","sourcePos":[71,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,68],"start":[71,25]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[71,68],"start":[71,59]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"type":"Abs"},"identifier":"addDefaultField"}],"exports":["addDefaultField","updateField","addDefaultOrUpdateField","renameField","nestForTagged"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Control","Category"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Control","Monad","ST","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Control","Semigroupoid"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Data","Argonaut","Core"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Data","Codec"]},{"annotation":{"meta":null,"sourceSpan":{"end":[61,36],"start":[61,1]}},"moduleName":["Data","Codec","Argonaut"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Data","Codec","Argonaut","Migration"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Data","Either"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Foreign","Object"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Foreign","Object","ST"]},{"annotation":{"meta":null,"sourceSpan":{"end":[57,15],"start":[57,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[145,32],"start":[49,1]}},"moduleName":["Prim"]}],"moduleName":["Data","Codec","Argonaut","Migration"],"modulePath":".spago/packages/codec-argonaut-10.0.0/src/Data/Codec/Argonaut/Migration.purs","reExports":{},"sourceSpan":{"end":[145,32],"start":[49,1]}}