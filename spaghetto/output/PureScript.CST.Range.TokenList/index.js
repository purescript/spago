// Generated by purs version 0.15.10
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Array_ST from "../Data.Array.ST/index.js";
import * as Data_Boolean from "../Data.Boolean/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Data_Tuple from "../Data.Tuple/index.js";
import * as Data_Unfoldable from "../Data.Unfoldable/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
var unsafeIndex = /* #__PURE__ */ Data_Array.unsafeIndex();
var TokenEmpty = /* #__PURE__ */ (function () {
    function TokenEmpty() {

    };
    TokenEmpty.value = new TokenEmpty();
    return TokenEmpty;
})();
var TokenCons = /* #__PURE__ */ (function () {
    function TokenCons(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    TokenCons.create = function (value0) {
        return function (value1) {
            return new TokenCons(value0, value1);
        };
    };
    return TokenCons;
})();
var TokenWrap = /* #__PURE__ */ (function () {
    function TokenWrap(value0, value1, value2) {
        this.value0 = value0;
        this.value1 = value1;
        this.value2 = value2;
    };
    TokenWrap.create = function (value0) {
        return function (value1) {
            return function (value2) {
                return new TokenWrap(value0, value1, value2);
            };
        };
    };
    return TokenWrap;
})();
var TokenAppend = /* #__PURE__ */ (function () {
    function TokenAppend(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    TokenAppend.create = function (value0) {
        return function (value1) {
            return new TokenAppend(value0, value1);
        };
    };
    return TokenAppend;
})();
var TokenDefer = /* #__PURE__ */ (function () {
    function TokenDefer(value0) {
        this.value0 = value0;
    };
    TokenDefer.create = function (value0) {
        return new TokenDefer(value0);
    };
    return TokenDefer;
})();
var TokenArray = /* #__PURE__ */ (function () {
    function TokenArray(value0, value1, value2) {
        this.value0 = value0;
        this.value1 = value1;
        this.value2 = value2;
    };
    TokenArray.create = function (value0) {
        return function (value1) {
            return function (value2) {
                return new TokenArray(value0, value1, value2);
            };
        };
    };
    return TokenArray;
})();
var UnconsDone = /* #__PURE__ */ (function () {
    function UnconsDone() {

    };
    UnconsDone.value = new UnconsDone();
    return UnconsDone;
})();
var UnconsMore = /* #__PURE__ */ (function () {
    function UnconsMore(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    UnconsMore.create = function (value0) {
        return function (value1) {
            return new UnconsMore(value0, value1);
        };
    };
    return UnconsMore;
})();
var wrap = /* #__PURE__ */ (function () {
    return TokenWrap.create;
})();
var singleton = function (a) {
    return new TokenCons(a, TokenEmpty.value);
};
var semigroupTokenList = {
    append: function (v) {
        return function (v1) {
            if (v1 instanceof TokenEmpty) {
                return v;
            };
            if (v instanceof TokenEmpty) {
                return v1;
            };
            return new TokenAppend(v, v1);
        };
    }
};
var append = /* #__PURE__ */ Data_Semigroup.append(semigroupTokenList);
var uncons2 = function ($copy_done) {
    return function ($copy_more) {
        return function ($copy_l) {
            return function ($copy_r) {
                var $tco_var_done = $copy_done;
                var $tco_var_more = $copy_more;
                var $tco_var_l = $copy_l;
                var $tco_done = false;
                var $tco_result;
                function $tco_loop(done, more, l, r) {
                    if (l instanceof TokenEmpty) {
                        $tco_done = true;
                        return uncons$prime(done)(more)(r);
                    };
                    if (l instanceof TokenCons) {
                        $tco_done = true;
                        return more(l.value0)(append(l.value1)(r));
                    };
                    if (l instanceof TokenWrap) {
                        $tco_done = true;
                        return more(l.value0)(append(l.value1)(new TokenCons(l.value2, r)));
                    };
                    if (l instanceof TokenAppend) {
                        $tco_var_done = done;
                        $tco_var_more = more;
                        $tco_var_l = l.value0;
                        $copy_r = append(l.value1)(r);
                        return;
                    };
                    if (l instanceof TokenDefer) {
                        $tco_var_done = done;
                        $tco_var_more = more;
                        $tco_var_l = l.value0(Data_Unit.unit);
                        $copy_r = r;
                        return;
                    };
                    if (l instanceof TokenArray) {
                        var next = (function () {
                            if (l.value0 === l.value1) {
                                return r;
                            };
                            if (Data_Boolean.otherwise) {
                                return append(new TokenArray(l.value0 + 1 | 0, l.value1, l.value2))(r);
                            };
                            throw new Error("Failed pattern match at PureScript.CST.Range.TokenList (line 102, column 7 - line 104, column 56): " + [  ]);
                        })();
                        $tco_done = true;
                        return more(unsafeIndex(l.value2)(l.value0))(next);
                    };
                    throw new Error("Failed pattern match at PureScript.CST.Range.TokenList (line 94, column 25 - line 105, column 52): " + [ l.constructor.name ]);
                };
                while (!$tco_done) {
                    $tco_result = $tco_loop($tco_var_done, $tco_var_more, $tco_var_l, $copy_r);
                };
                return $tco_result;
            };
        };
    };
};
var uncons$prime = function ($copy_done) {
    return function ($copy_more) {
        return function ($copy_v) {
            var $tco_var_done = $copy_done;
            var $tco_var_more = $copy_more;
            var $tco_done = false;
            var $tco_result;
            function $tco_loop(done, more, v) {
                if (v instanceof TokenEmpty) {
                    $tco_done = true;
                    return done;
                };
                if (v instanceof TokenCons) {
                    $tco_done = true;
                    return more(v.value0)(v.value1);
                };
                if (v instanceof TokenWrap) {
                    $tco_done = true;
                    return more(v.value0)(append(v.value1)(singleton(v.value2)));
                };
                if (v instanceof TokenAppend) {
                    $tco_done = true;
                    return uncons2(done)(more)(v.value0)(v.value1);
                };
                if (v instanceof TokenDefer) {
                    $tco_var_done = done;
                    $tco_var_more = more;
                    $copy_v = v.value0(Data_Unit.unit);
                    return;
                };
                if (v instanceof TokenArray) {
                    var next = (function () {
                        if (v.value0 === v.value1) {
                            return TokenEmpty.value;
                        };
                        if (Data_Boolean.otherwise) {
                            return new TokenArray(v.value0 + 1 | 0, v.value1, v.value2);
                        };
                        throw new Error("Failed pattern match at PureScript.CST.Range.TokenList (line 88, column 7 - line 90, column 51): " + [  ]);
                    })();
                    $tco_done = true;
                    return more(unsafeIndex(v.value2)(v.value0))(next);
                };
                throw new Error("Failed pattern match at PureScript.CST.Range.TokenList (line 80, column 21 - line 91, column 52): " + [ v.constructor.name ]);
            };
            while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_done, $tco_var_more, $copy_v);
            };
            return $tco_result;
        };
    };
};
var toUnfoldable = function (dictUnfoldable) {
    return Data_Unfoldable.unfoldr(dictUnfoldable)(uncons$prime(Data_Maybe.Nothing.value)(function (a) {
        return function (b) {
            return new Data_Maybe.Just(new Data_Tuple.Tuple(a, b));
        };
    }));
};
var uncons = /* #__PURE__ */ (function () {
    return uncons$prime(UnconsDone.value)(UnconsMore.create);
})();
var toArray = function (init) {
    return (function __do() {
        var arr = Data_Array_ST["new"]();
        var cur = init;
        var $$continue = true;
        (function () {
            while ($$continue) {
                (function __do() {
                    var tree = cur;
                    var v = uncons(tree);
                    if (v instanceof UnconsDone) {
                        $$continue = false;
                        return Data_Unit.unit;
                    };
                    if (v instanceof UnconsMore) {
                        cur = v.value1;
                        Data_Array_ST.push(v.value0)(arr)();
                        return Data_Unit.unit;
                    };
                    throw new Error("Failed pattern match at PureScript.CST.Range.TokenList (line 117, column 5 - line 124, column 18): " + [ v.constructor.name ]);
                })();
            };
            return {};
        })();
        return Data_Array_ST.unsafeFreeze(arr)();
    })();
};
var monoidTokenList = /* #__PURE__ */ (function () {
    return {
        mempty: TokenEmpty.value,
        Semigroup0: function () {
            return semigroupTokenList;
        }
    };
})();
var lazyTokenList = /* #__PURE__ */ (function () {
    return {
        defer: TokenDefer.create
    };
})();
var head = function ($copy_v) {
    var $tco_done = false;
    var $tco_result;
    function $tco_loop(v) {
        if (v instanceof TokenEmpty) {
            $tco_done = true;
            return Data_Maybe.Nothing.value;
        };
        if (v instanceof TokenCons) {
            $tco_done = true;
            return new Data_Maybe.Just(v.value0);
        };
        if (v instanceof TokenDefer) {
            $copy_v = v.value0(Data_Unit.unit);
            return;
        };
        if (v instanceof TokenWrap) {
            $tco_done = true;
            return new Data_Maybe.Just(v.value0);
        };
        if (v instanceof TokenAppend) {
            $copy_v = v.value0;
            return;
        };
        if (v instanceof TokenArray) {
            $tco_done = true;
            return new Data_Maybe.Just(unsafeIndex(v.value2)(v.value0));
        };
        throw new Error("Failed pattern match at PureScript.CST.Range.TokenList (line 64, column 8 - line 70, column 67): " + [ v.constructor.name ]);
    };
    while (!$tco_done) {
        $tco_result = $tco_loop($copy_v);
    };
    return $tco_result;
};
var fromArray = function (arr) {
    var len = Data_Array.length(arr);
    var $57 = len === 0;
    if ($57) {
        return TokenEmpty.value;
    };
    return new TokenArray(0, len - 1 | 0, arr);
};
var cons = /* #__PURE__ */ (function () {
    return TokenCons.create;
})();
export {
    singleton,
    cons,
    wrap,
    head,
    UnconsDone,
    UnconsMore,
    uncons,
    uncons$prime,
    toUnfoldable,
    toArray,
    fromArray,
    lazyTokenList,
    semigroupTokenList,
    monoidTokenList
};
//# sourceMappingURL=index.js.map
